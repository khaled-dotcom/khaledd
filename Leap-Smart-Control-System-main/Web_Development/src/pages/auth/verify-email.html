<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="https://raw.githubusercontent.com/Leap-Smart-Solutions/Leap-Smart-Control-System/refs/heads/main/Web_Development/src/assets/icons/favicon.ico" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- for fonts -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Nunito&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" as="style"onload="this.rel='stylesheet'">
    <link rel="stylesheet" href="../../assets/styles/signup.css">
    <title>Verify Email</title>
</head>

<body>
    <header>
        <a href="../index.html"><i class="fa-solid fa-arrow-left-long" id="back-arrow"></i></a>
    </header>

    <div class="signup-container">
        <h1>Email Verification</h1>
        <div class="signup-rectangle">
            <div class="verification-status">
                <i class="fa-solid fa-envelope"></i>
                <h2>Check your inbox</h2>
                <p>We've sent a verification link to your email address.</p>
                <p>Please click the link to verify your account.</p>
                <p>After email verification, you'll need to verify your phone number.</p>
            </div>
            
            <div class="resend-section">
                <p>Didn't receive the email?</p>
                <button id="resend-verification" class="resend-button">Resend verification email</button>
            </div>
            
            <div class="submit">
                <button id="continue-to-phone-verification">Continue to Phone Verification</button>
            </div>
            
            <div class="submit">
                <button id="skip-to-login" class="skip-button" onclick="window.location.href='login.html'">Skip and Login</button>
            </div>
        </div>
    </div>

    <script type="module" src="../../js/firebase/auth.js"></script>
    <script type="module">
        import emailVerificationChecker from "../../js/utils/emailVerificationChecker.js";
        
        // Initialize email verification checker when page loads
        document.addEventListener('DOMContentLoaded', () => {
            emailVerificationChecker.init();
        });
        
        // Cleanup when page unloads
        window.addEventListener('beforeunload', () => {
            emailVerificationChecker.destroy();
        });
    </script>
</body>
</html>